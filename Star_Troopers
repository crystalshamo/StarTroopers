DROP DATABASE IF EXISTS StarTroopers_TEC;

CREATE DATABASE StarTroopers_TEC;

USE StarTroopers_TEC;

CREATE TABLE COMPANY (
    COMPANY_ID INTEGER AUTO_INCREMENT NOT NULL,
    COMPANY_NAME VARCHAR(50) NOT NULL,
    PRIMARY KEY (COMPANY_ID)
);

CREATE TABLE QUALIFICATION (
    QUALIFICATION_CODE VARCHAR(15) NOT NULL,
    QUALIFICATION_DESCRIPTION VARCHAR(80) NOT NULL,
    PRIMARY KEY (QUALIFICATION_CODE)
);

CREATE TABLE CANDIDATE (
    CANDIDATE_ID INTEGER AUTO_INCREMENT NOT NULL,
    CANDIDATE_NAME VARCHAR(20) NOT NULL,
    PRIMARY KEY (CANDIDATE_ID)
);

CREATE TABLE CANDIDATE_QUALIFICATIONS(
    CANDIDATE_ID INTEGER NOT NULL,
    QUALIFICATION_CODE VARCHAR(15) NOT NULL,
    PRIMARY KEY (CANDIDATE_ID, QUALIFICATION_CODE),
    FOREIGN KEY (CANDIDATE_ID) REFERENCES CANDIDATE(CANDIDATE_ID),
    FOREIGN KEY (QUALIFICATION_CODE) REFERENCES QUALIFICATION(QUALIFICATION_CODE)
);


CREATE TABLE OPENING (
    OPENING_ID INTEGER AUTO_INCREMENT NOT NULL,
    COMPANY_ID INTEGER NOT NULL,
    QUALIFICATION_CODE VARCHAR(15) NOT NULL,
    DATE_START DATE DEFAULT NULL,
    DATE_END DATE DEFAULT NULL,
    PAY_HOURLY DECIMAL (5,2) DEFAULT '000.00',
    PRIMARY KEY (OPENING_ID),
    FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (COMPANY_ID),
    FOREIGN KEY (QUALIFICATION_CODE) REFERENCES QUALIFICATION (QUALIFICATION_CODE)
);

CREATE TABLE JOB_HISTORY (
    JOB_HISTORY_ID INTEGER AUTO_INCREMENT NOT NULL,
    CANDIDATE_ID INTEGER NOT NULL,
    JOB_HISTORY_DETAIL VARCHAR(225) DEFAULT "N/A",
    JOB_HISTORY_START DATE DEFAULT NULL,
    JOB_HISTORY_END DATE DEFAULT NULL,
    PRIMARY KEY (JOB_HISTORY_ID),
    FOREIGN KEY (CANDIDATE_ID) REFERENCES CANDIDATE (CANDIDATE_ID)
);

CREATE TABLE PLACEMENT (
    PLACEMENT_ID INTEGER AUTO_INCREMENT NOT NULL,
    OPENING_ID INTEGER NOT NULL,
    CANDIDATE_ID INTEGER NOT NULL,
    HOURS_WORKED DECIMAL(5,2) DEFAULT 0.00,
    JOB_HISTORY_ID INTEGER NOT NULL,
    PRIMARY KEY (PLACEMENT_ID),
    FOREIGN KEY (OPENING_ID) REFERENCES OPENING (OPENING_ID),
    FOREIGN KEY (CANDIDATE_ID) REFERENCES CANDIDATE (CANDIDATE_ID),
    FOREIGN KEY (JOB_HISTORY_ID) REFERENCES JOB_HISTORY (JOB_HISTORY_ID)
);

CREATE TABLE COURSE (
    COURSE_CODE INTEGER AUTO_INCREMENT NOT NULL,
    QUALIFICATION_CODE VARCHAR(15) NOT NULL,
    COURSE_NAME VARCHAR(50) NOT NULL,
    PRIMARY KEY (COURSE_CODE),
    FOREIGN KEY (QUALIFICATION_CODE) REFERENCES QUALIFICATION (QUALIFICATION_CODE)
);

CREATE TABLE PREREQUISITE_COURSE (
    COURSE_CODE INTEGER NOT NULL,
    PREREQUISITE_QUALIFICATION_CODE VARCHAR(15) NOT NULL,
    PRIMARY KEY (COURSE_CODE, PREREQUISITE_QUALIFICATION_CODE),
    FOREIGN KEY (COURSE_CODE) REFERENCES COURSE (COURSE_CODE),
    FOREIGN KEY (PREREQUISITE_QUALIFICATION_CODE) REFERENCES QUALIFICATION (QUALIFICATION_CODE)
);

CREATE TABLE SESSION (
    SESSION_ID INTEGER AUTO_INCREMENT NOT NULL,
    COURSE_CODE INTEGER NOT NULL,
    CANDIDATE_ID INTEGER NOT NULL,
    SESSION_FEE DECIMAL(5,2) NOT NULL,
    PRIMARY KEY (SESSION_ID),
    FOREIGN KEY (COURSE_CODE) REFERENCES COURSE (COURSE_CODE),
    FOREIGN KEY (CANDIDATE_ID) REFERENCES CANDIDATE (CANDIDATE_ID)
);


INSERT INTO COMPANY (COMPANY_NAME) VALUES ('DTE');
INSERT INTO COMPANY (COMPANY_NAME) VALUES ('Disney');
INSERT INTO COMPANY (COMPANY_NAME) VALUES ('Apple');
INSERT INTO COMPANY (COMPANY_NAME) VALUES ('Google');
INSERT INTO COMPANY (COMPANY_NAME) VALUES ('Oakland Univeristy');

INSERT INTO QUALIFICATION (QUALIFICATION_CODE, QUALIFICATION_DESCRIPTION) VALUES ('SEC-45', 'Secretarial work; candidate must type at least 45 words per minute');
INSERT INTO QUALIFICATION (QUALIFICATION_CODE, QUALIFICATION_DESCRIPTION) VALUES ('SEC-60', 'Secretarial work; candidate must type at least 60 words per minute');
INSERT INTO QUALIFICATION (QUALIFICATION_CODE, QUALIFICATION_DESCRIPTION) VALUES ('CLERK', 'General clerking work');
INSERT INTO QUALIFICATION (QUALIFICATION_CODE, QUALIFICATION_DESCRIPTION) VALUES ('PRG-PY', 'Programmer, Python');
INSERT INTO QUALIFICATION (QUALIFICATION_CODE, QUALIFICATION_DESCRIPTION) VALUES ('PRG-C++', 'Programmer,C++');
INSERT INTO QUALIFICATION (QUALIFICATION_CODE, QUALIFICATION_DESCRIPTION) VALUES ('DBA-ORA', 'Database Administrator, Oracle');
INSERT INTO QUALIFICATION (QUALIFICATION_CODE, QUALIFICATION_DESCRIPTION) VALUES ('DBA-DB2', 'Database Administrator, IBM DB2');
INSERT INTO QUALIFICATION (QUALIFICATION_CODE, QUALIFICATION_DESCRIPTION) VALUES ('DBA-SQLSERV', 'Database Administrator, MS SQL Server');
INSERT INTO QUALIFICATION (QUALIFICATION_CODE, QUALIFICATION_DESCRIPTION) VALUES ('SYS-1', 'Systems Analyst, level 1');
INSERT INTO QUALIFICATION (QUALIFICATION_CODE, QUALIFICATION_DESCRIPTION) VALUES ('SYS-2', 'System Analyst, level 2');
INSERT INTO QUALIFICATION (QUALIFICATION_CODE, QUALIFICATION_DESCRIPTION) VALUES ('NW-CIS', 'Network Administrator, Cisco experience');
INSERT INTO QUALIFICATION (QUALIFICATION_CODE, QUALIFICATION_DESCRIPTION) VALUES ('WD-CF', 'Web Developer,ColdFusion');

INSERT INTO CANDIDATE (CANDIDATE_NAME) VALUES ('Bill');
INSERT INTO CANDIDATE (CANDIDATE_NAME) VALUES ('Rumana');
INSERT INTO CANDIDATE (CANDIDATE_NAME) VALUES ('Crystal');
INSERT INTO CANDIDATE (CANDIDATE_NAME) VALUES ('Alan');
INSERT INTO CANDIDATE (CANDIDATE_NAME) VALUES ('Steve');

INSERT INTO CANDIDATE_QUALIFICATIONS (CANDIDATE_ID, QUALIFICATION_CODE) VALUES (1, 'PRG-PY');
INSERT INTO CANDIDATE_QUALIFICATIONS (CANDIDATE_ID, QUALIFICATION_CODE) VALUES (2, 'CLERK');
INSERT INTO CANDIDATE_QUALIFICATIONS (CANDIDATE_ID, QUALIFICATION_CODE) VALUES (3, 'SYS-1');
INSERT INTO CANDIDATE_QUALIFICATIONS (CANDIDATE_ID, QUALIFICATION_CODE) VALUES (4, 'NW-CIS');
INSERT INTO CANDIDATE_QUALIFICATIONS (CANDIDATE_ID, QUALIFICATION_CODE) VALUES (5, 'WD-CF');

INSERT INTO OPENING (COMPANY_ID, QUALIFICATION_CODE, DATE_START, DATE_END, PAY_HOURLY) VALUES (1, 'PRG-PY', '2024-01-01', '2024-06-01', 23.00);
INSERT INTO OPENING (COMPANY_ID, QUALIFICATION_CODE, DATE_START, DATE_END, PAY_HOURLY) VALUES (2, 'DBA-ORA', '2024-02-01', '2024-07-01', 42.00);
INSERT INTO OPENING (COMPANY_ID, QUALIFICATION_CODE, DATE_START, DATE_END, PAY_HOURLY) VALUES (3, 'SYS-1', '2024-03-01', '2024-08-01', 74.00);
INSERT INTO OPENING (COMPANY_ID, QUALIFICATION_CODE, DATE_START, DATE_END, PAY_HOURLY) VALUES (4, 'NW-CIS', '2024-04-01', '2024-09-01', 32.00);
INSERT INTO OPENING (COMPANY_ID, QUALIFICATION_CODE, DATE_START, DATE_END, PAY_HOURLY) VALUES (5, 'WD-CF', '2024-05-01', '2024-10-01', 15.00);

INSERT INTO JOB_HISTORY (CANDIDATE_ID, JOB_HISTORY_DETAIL, JOB_HISTORY_START, JOB_HISTORY_END) VALUES (1, 'Developed a Python application', '2022-01-01', '2022-12-31');
INSERT INTO JOB_HISTORY (CANDIDATE_ID, JOB_HISTORY_DETAIL, JOB_HISTORY_START, JOB_HISTORY_END) VALUES (2, 'Managed Oracle databases', '2021-01-01', '2021-12-31');
INSERT INTO JOB_HISTORY (CANDIDATE_ID, JOB_HISTORY_DETAIL, JOB_HISTORY_START, JOB_HISTORY_END) VALUES (3, 'Conducted system analysis', '2020-01-01', '2020-12-31');
INSERT INTO JOB_HISTORY (CANDIDATE_ID, JOB_HISTORY_DETAIL, JOB_HISTORY_START, JOB_HISTORY_END) VALUES (4, 'Administered Cisco networks', '2019-01-01', '2019-12-31');
INSERT INTO JOB_HISTORY (CANDIDATE_ID, JOB_HISTORY_DETAIL, JOB_HISTORY_START, JOB_HISTORY_END) VALUES (5, 'Designed websites using ColdFusion', '2018-01-01', '2018-12-31');

INSERT INTO PLACEMENT (OPENING_ID, CANDIDATE_ID, HOURS_WORKED, JOB_HISTORY_ID) VALUES (1, 1, 120, 1);
INSERT INTO PLACEMENT (OPENING_ID, CANDIDATE_ID, HOURS_WORKED, JOB_HISTORY_ID) VALUES (2, 2, 110, 2);
INSERT INTO PLACEMENT (OPENING_ID, CANDIDATE_ID, HOURS_WORKED, JOB_HISTORY_ID) VALUES (3, 3, 100, 3);
INSERT INTO PLACEMENT (OPENING_ID, CANDIDATE_ID, HOURS_WORKED, JOB_HISTORY_ID) VALUES (4, 4, 90, 4);
INSERT INTO PLACEMENT (OPENING_ID, CANDIDATE_ID, HOURS_WORKED, JOB_HISTORY_ID) VALUES (5, 5, 80, 5);

INSERT INTO COURSE (QUALIFICATION_CODE, COURSE_NAME) VALUES ('PRG-PY', 'Python Programming 101');
INSERT INTO COURSE (QUALIFICATION_CODE, COURSE_NAME) VALUES ('DBA-ORA', 'Database Administration (Oracle)');
INSERT INTO COURSE (QUALIFICATION_CODE, COURSE_NAME) VALUES ('SYS-1', 'Systems Analysis 101');
INSERT INTO COURSE (QUALIFICATION_CODE, COURSE_NAME) VALUES ('NW-CIS', ' Networking Administrator (Cisco)');
INSERT INTO COURSE (QUALIFICATION_CODE, COURSE_NAME) VALUES ('WD-CF', 'Web Development (ColdFusion)');

INSERT INTO PREREQUISITE_COURSE (COURSE_CODE, PREREQUISITE_QUALIFICATION_CODE) VALUES (1, 'SEC-45');
INSERT INTO PREREQUISITE_COURSE (COURSE_CODE, PREREQUISITE_QUALIFICATION_CODE) VALUES (2, 'CLERK');
INSERT INTO PREREQUISITE_COURSE (COURSE_CODE, PREREQUISITE_QUALIFICATION_CODE) VALUES (3, 'SEC-60');
INSERT INTO PREREQUISITE_COURSE (COURSE_CODE, PREREQUISITE_QUALIFICATION_CODE) VALUES (4, 'PRG-C++');
INSERT INTO PREREQUISITE_COURSE (COURSE_CODE, PREREQUISITE_QUALIFICATION_CODE) VALUES (5, 'DBA-DB2');

INSERT INTO SESSION (COURSE_CODE, CANDIDATE_ID, SESSION_FEE) VALUES (1, 1, 555.00);
INSERT INTO SESSION (COURSE_CODE, CANDIDATE_ID, SESSION_FEE) VALUES (2, 2, 125.00);
INSERT INTO SESSION (COURSE_CODE, CANDIDATE_ID, SESSION_FEE) VALUES (3, 3, 583.00);
INSERT INTO SESSION (COURSE_CODE, CANDIDATE_ID, SESSION_FEE) VALUES (4, 4, 247.00);
INSERT INTO SESSION (COURSE_CODE, CANDIDATE_ID, SESSION_FEE) VALUES (5, 5, 329.00);
